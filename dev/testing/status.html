<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    $(if refresh-timeout)
    <meta http-equiv="refresh" content="$(refresh-timeout-secs)">
    $(endif)
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <title>Hotspot Status - Sobigidul</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        :root { --dark-bg: #1e1e2f; --card-bg: #27293d; --text-color: #d0d2d6; --text-muted: #676a79; --primary-color: #a78bfa; --primary-color-dark: #8b5cf6; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Roboto', sans-serif; background-color: var(--dark-bg); color: var(--text-color); display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; }
        .container { width: 100%; max-width: 450px; text-align: center; }
        .card { background-color: var(--card-bg); border-radius: 12px; padding: 2rem; border: 1px solid rgba(255, 255, 255, 0.05); }
        h1 { font-size: 1.5rem; font-weight: 500; margin-bottom: 1.5rem; }
        .status-table { width: 100%; text-align: left; border-collapse: collapse; margin-bottom: 1.5rem; }
        .status-table td { padding: 10px 5px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); font-size: 0.9rem; }
        .status-table tr:last-child td { border-bottom: none; }
        .status-table td:first-child { color: var(--text-muted); width: 40%; }
        .status-table td:last-child { font-weight: 500; }
        .btn { display: inline-block; width: 100%; padding: 12px; border-radius: 8px; border: none; cursor: pointer; font-weight: 500; font-size: 1rem; text-decoration: none; transition: all 0.3s; margin-top: 0.5rem; text-align: center; }
        .btn-primary { background: linear-gradient(90deg, #f44336, #d32f2f); color: #ffffff; }
        .btn-secondary { background-color: var(--input-bg, #1a1c2c); color: var(--text-color); border: 1px solid var(--text-muted); }
    </style>
    <script>
        function openLogout() {
            if (window.name != 'hotspot_status') return true;
            open('$(link-logout)', 'hotspot_logout', 'toolbar=0,location=0,directories=0,status=0,menubars=0,resizable=1,width=400,height=400');
            window.close();
            return false;
        }
    </script>
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>Status Koneksi</h1>
            <table class="status-table">
                $(if login-by != 'mac')
                <tr><td>Pengguna</td><td>$(username)</td></tr>
                $(endif)
                <tr><td>Alamat IP</td><td>$(ip)</td></tr>
                <tr><td>Alamat MAC</td><td>$(mac)</td></tr>
                <tr><td>Bytes Terpakai</td><td>$(bytes-in-nice) (terima) / $(bytes-out-nice) (kirim)</td></tr>
                $(if session-time-left)
                <tr><td>Waktu Tersisa</td><td>$(session-time-left)</td></tr>
                $(else)
                <tr><td>Durasi Sesi</td><td>$(uptime)</td></tr>
                $(endif)
                $(if blocked == 'yes')
                <tr><td>Status</td><td><a href="$(link-advert)" target="hotspot_advert" style="color: #f44336;">Iklan diperlukan</a></td></tr>
                $(endif)
            </table>
            
            <form action="$(link-logout)" name="logout" onsubmit="return openLogout()">
                $(if login-by-mac != 'yes')
                <button type="submit" class="btn btn-primary">Putuskan Koneksi</button>
                $(endif)
            </form>
            <a href="http://sobigidul.local/login" class="btn btn-secondary">Beli / Cek Kuota</a>
        </div>
    </div>
</body>
</html>