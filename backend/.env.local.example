# backend/.env.local.example
# Template LOCAL (berisi secret / kredensial). Jangan commit backend/.env.local.

# --- Flask/app mode ---
APP_ENV=local
FLASK_APP=run.py
FLASK_ENV=development
FLASK_DEBUG=True

# --- Database (pilih salah satu) ---
# Opsi A (disarankan): DATABASE_URL
DATABASE_URL=postgresql+psycopg2://USER:PASSWORD@HOST:5432/DBNAME

# Opsi B (fallback kalau DATABASE_URL kosong)
DB_USER=
DB_PASSWORD=
DB_HOST=
DB_PORT=5432
DB_NAME=

# --- Secrets ---
SECRET_KEY=
JWT_SECRET_KEY=

# --- Redis (OTP / Celery / Rate limit) ---
REDIS_HOST_OTP=redis
REDIS_PORT_OTP=6379
REDIS_DB_OTP=0
REDIS_PASSWORD_OTP=

REDIS_HOST_CELERY_BROKER=redis
REDIS_PORT_CELERY_BROKER=6379
REDIS_DB_CELERY_BROKER=1
REDIS_PASSWORD_CELERY_BROKER=

REDIS_HOST_CELERY_BACKEND=redis
REDIS_PORT_CELERY_BACKEND=6379
REDIS_DB_CELERY_BACKEND=2
REDIS_PASSWORD_CELERY_BACKEND=

REDIS_HOST_RATELIMIT=redis
REDIS_PORT_RATELIMIT=6379
REDIS_DB_RATELIMIT=0
REDIS_PASSWORD_RATELIMIT=

RATELIMIT_STORAGE_URI=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# --- Payment (secret) ---
MIDTRANS_SERVER_KEY=
MIDTRANS_CLIENT_KEY=
MIDTRANS_IS_PRODUCTION=False

# --- WhatsApp (secret) ---
WHATSAPP_API_URL=https://api.fonnte.com/send
WHATSAPP_VALIDATE_URL=https://api.fonnte.com/validate
WHATSAPP_API_KEY=
ENABLE_WHATSAPP_NOTIFICATIONS=True

# Rate limit WhatsApp (Redis)
WHATSAPP_RATE_LIMIT_ENABLED=True
WHATSAPP_RATE_LIMIT_WINDOW_SECONDS=60
WHATSAPP_RATE_LIMIT_PER_TARGET=3
WHATSAPP_RATE_LIMIT_GLOBAL=120

# --- MikroTik (secret) ---
MIKROTIK_HOST=
MIKROTIK_USER=
MIKROTIK_PASSWORD=
MIKROTIK_PORT=8728
MIKROTIK_USE_SSL=False
MIKROTIK_SSL_VERIFY=False
MIKROTIK_PLAIN_TEXT_LOGIN=True
